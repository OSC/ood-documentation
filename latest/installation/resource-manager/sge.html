

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Grid Engine &mdash; Open OnDemand 3.0.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="LinuxHost" href="linuxhost.html" />
    <link rel="prev" title="PBS Professional" href="pbspro.html" />
 
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-34776817-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-34776817-3');
</script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../add-cluster-config.html">Cluster Configuration</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../cluster-config-schema.html">Cluster Config Schema v2</a></li>
<li class="toctree-l2"><a class="reference internal" href="torque.html">Torque</a></li>
<li class="toctree-l2"><a class="reference internal" href="slurm.html">Slurm</a></li>
<li class="toctree-l2"><a class="reference internal" href="lsf.html">LSF</a></li>
<li class="toctree-l2"><a class="reference internal" href="pbspro.html">PBS Professional</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Grid Engine</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#common-issues">Common Issues</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#shell-environments">Shell environments</a></li>
<li class="toctree-l4"><a class="reference internal" href="#invalid-job-name">Invalid Job name</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="linuxhost.html">LinuxHost</a></li>
<li class="toctree-l2"><a class="reference internal" href="ccq.html">Cloudy Cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="kubernetes.html">Kuberenetes</a></li>
<li class="toctree-l2"><a class="reference internal" href="systemd.html">Systemd</a></li>
<li class="toctree-l2"><a class="reference internal" href="bin-override-example.html">A Working Example of a <code class="docutils literal notranslate"><span class="pre">bin_overrides</span></code> Script</a></li>
<li class="toctree-l2"><a class="reference internal" href="test.html">Test Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../how-tos/app-development/interactive/setup.html">Setup Interactive Apps</a></li>
</ul>
<p class="caption"><span class="caption-text">How-Tos</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../customizations.html">Customizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../how-tos/debug.html">Debugging and Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../enable-desktops.html">Enable Interactive Desktop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../how-tos/app-development.html">App Development</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../install-ihpc-apps.html">Install Other Interactive Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/tutorials-interactive-apps.html">Tutorials: Interactive Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/tutorials-passenger-apps.html">Tutorials: Passenger Apps</a></li>
</ul>
<p class="caption"><span class="caption-text">More</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference.html">Configuration Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../version-policy.html">OOD Versioning Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../issues/overview.html">OnDemand’s Known Issues</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Open OnDemand</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../add-cluster-config.html">Cluster Configuration</a> &raquo;</li>
        
      <li>Grid Engine</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OSC/ood-documentation/blob/latest/source/installation/resource-manager/sge.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="grid-engine">
<span id="resource-manager-sge"></span><h1>Grid Engine<a class="headerlink" href="#grid-engine" title="Permalink to this headline">¶</a></h1>
<p>A YAML cluster configuration file for a Grid Engine (Sun Grid Engine, Son of Grid Engine, Univa Grid Engine) resource manager on an HPC
cluster looks like:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># /etc/ood/config/clusters.d/my_cluster.yml</span><span class="w"></span>
<span class="nn">---</span><span class="w"></span>
<span class="nt">v2</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">metadata</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;My</span><span class="nv"> </span><span class="s">Cluster&quot;</span><span class="w"></span>
<span class="w">  </span><span class="nt">login</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;my_cluster.my_center.edu&quot;</span><span class="w"></span>
<span class="hll"><span class="w">  </span><span class="nt">job</span><span class="p">:</span><span class="w"></span>
</span><span class="hll"><span class="w">    </span><span class="nt">adapter</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;sge&quot;</span><span class="w"></span>
</span><span class="hll"><span class="w">    </span><span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;my_cluster&quot;</span><span class="w"></span>
</span><span class="hll"><span class="w">    </span><span class="nt">bin</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/usr/lib/gridengine&quot;</span><span class="w"></span>
</span><span class="hll"><span class="w">    </span><span class="nt">conf</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/etc/default/gridengine&quot;</span><span class="w"></span>
</span><span class="hll"><span class="w">    </span><span class="nt">sge_root</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/var/lib/gridengine&quot;</span><span class="w"></span>
</span><span class="hll"><span class="w">    </span><span class="nt">libdrmaa_path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/var/lib/gridengine/drmaa/libdrmaa.so&quot;</span><span class="w"></span>
</span><span class="hll"><span class="w">    </span><span class="c1"># bin_overrides:</span><span class="w"></span>
</span><span class="hll"><span class="w">      </span><span class="c1"># qsub: &quot;/usr/local/bin/qsub_wrapper&quot;</span><span class="w"></span>
</span><span class="hll"><span class="w">      </span><span class="c1"># qstat: &quot;&quot;</span><span class="w"></span>
</span><span class="hll"><span class="w">      </span><span class="c1"># qhold: &quot;&quot;</span><span class="w"></span>
</span><span class="hll"><span class="w">      </span><span class="c1"># qrls: &quot;&quot;</span><span class="w"></span>
</span><span class="hll"><span class="w">      </span><span class="c1"># qdel: &quot;&quot;</span><span class="w"></span>
</span></pre></div>
</div>
<p>with the following configuration options:</p>
<dl>
<dt>adapter</dt><dd><p>This is set to <code class="docutils literal notranslate"><span class="pre">sge</span></code>.</p>
</dd>
<dt>cluster</dt><dd><p>The Grid Engine cluster name. <em>Optional</em></p>
</dd>
<dt>bin</dt><dd><p>The path to the Grid Engine client installation binaries.</p>
</dd>
<dt>sge_root</dt><dd><p>The path to the root directory of the Grid Engine installation. <em>Default:</em> <code class="docutils literal notranslate"><span class="pre">/var/lib/gridengine</span></code></p>
</dd>
<dt>conf</dt><dd><p>The path to the Grid Engine configuration file for this cluster. <em>Optional</em></p>
</dd>
<dt>libdrmaa_path</dt><dd><p>The full path to libdrmaa.so. Provide this to enable use of libdrmaa for more precise job status reporting.  <em>Optional</em></p>
</dd>
<dt>submit_host</dt><dd><p>A different, optional host to ssh to and <em>then</em> issue commands. <em>Optional</em></p>
</dd>
<dt>bin_overrides</dt><dd><p>Replacements/wrappers for Grid Engine’s job submission and control clients. <em>Optional</em></p>
<p>Supports the following clients:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">qsub</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">qstat</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">qhold</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">qrls</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">qdel</span></code></p></li>
</ul>
</dd>
</dl>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>DRMAA improves OnDemand’s ability to report on the precise status of jobs. To use this feature ensure that libdrmaa.so for Grid Engine is installed or built and set the config value for <code class="docutils literal notranslate"><span class="pre">libdrmaa_path</span></code> and <code class="docutils literal notranslate"><span class="pre">sge_root</span></code>. If DRMAA is not installed then OnDemand is unable to get a precise job status for single jobs and will only return either queued or complete.</p>
</div>
<div class="section" id="common-issues">
<h2>Common Issues<a class="headerlink" href="#common-issues" title="Permalink to this headline">¶</a></h2>
<div class="section" id="shell-environments">
<h3>Shell environments<a class="headerlink" href="#shell-environments" title="Permalink to this headline">¶</a></h3>
<p>You may run into an error similar to this where the script running is using a BASH process
substitution and there’s a syntax error.</p>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>/export/uge/some/file: line 156: syntax error near unexpected token &lt;&#39; /export/uge/some/file:
line 156: done &lt; &lt;(tail -f --pid=${SCRIPT_PID} “vnc.log”) &amp;’
</pre></div>
</div>
</div></blockquote>
<p>What you’ll need to do is add a <code class="docutils literal notranslate"><span class="pre">script_wrapper</span></code> element to your clusters’ configuration like below.
This sets the sh shell to behave like bash and ensures you’ve sourced your users’ bashrc file.</p>
<blockquote>
<div><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># /etc/ood/config/clusters.d/my_cluster.yml</span><span class="w"></span>
<span class="c1"># (other elements removed for brevity)</span><span class="w"></span>
<span class="nn">---</span><span class="w"></span>
<span class="nt">v2</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">batch_connect</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">basic</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">script_wrapper</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="w"></span>
<span class="w">        </span><span class="no">set +o posix</span><span class="w"></span>
<span class="w">        </span><span class="no">. ~/.bashrc</span><span class="w"></span>
<span class="w">        </span><span class="no">%s</span><span class="w"></span>
<span class="w">    </span><span class="nt">vnc</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">script_wrapper</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="w"></span>
<span class="w">        </span><span class="no">set +o posix</span><span class="w"></span>
<span class="w">        </span><span class="no">. ~/.bashrc</span><span class="w"></span>
<span class="w">        </span><span class="no">%s</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="invalid-job-name">
<h3>Invalid Job name<a class="headerlink" href="#invalid-job-name" title="Permalink to this headline">¶</a></h3>
<p>If you encounter an issue in running batch connect applications complaining about invalid
job names like the error below.</p>
<p><code class="docutils literal notranslate"><span class="pre">Unable</span> <span class="pre">to</span> <span class="pre">read</span> <span class="pre">script</span> <span class="pre">file</span> <span class="pre">because</span> <span class="pre">of</span> <span class="pre">error:</span> <span class="pre">ERROR!</span> <span class="pre">argument</span> <span class="pre">to</span> <span class="pre">-N</span> <span class="pre">option</span> <span class="pre">must</span> <span class="pre">not</span> <span class="pre">contain</span> <span class="pre">/</span></code></p>
<p>You’ll need to configure illegal job name characters as described
<a class="reference internal" href="../../customizations.html#set-illegal-job-name-characters"><span class="std std-ref">here</span></a>.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="linuxhost.html" class="btn btn-neutral float-right" title="LinuxHost" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pbspro.html" class="btn btn-neutral float-left" title="PBS Professional" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2023, Ohio Supercomputer Center

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Documentation Versions</span>
    v: 
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Versions</dt>
      
        <dd><a href="https://OSC.github.io/ood-documentation/latest/installation/resource-manager/sge.html">latest</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-2.0/installation/resource-manager/sge.html">2.0</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.8/installation/resource-manager/sge.html">1.8</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.7/installation/resource-manager/sge.html">1.7</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.6/installation/resource-manager/sge.html">1.6</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.5/installation/resource-manager/sge.html">1.5</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.4/installation/resource-manager/sge.html">1.4</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.3/installation/resource-manager/sge.html">1.3</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.2/installation/resource-manager/sge.html">1.2</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.1/installation/resource-manager/sge.html">1.1</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.0/installation/resource-manager/sge.html">1.0</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/develop/installation/resource-manager/sge.html">develop</a></dd>
      
    </dl>
    <dl>
      <dt>On GitHub</dt>
        <dd>
          <a href="http://openondemand.org/">Website</a>
        </dd>
        <dd>
          <a href="https://github.com/OSC/Open-OnDemand">Main Repo</a>
        </dd>
    </dl>
    <hr/>
    Theme provided by <a href="http://www.readthedocs.org">Read the Docs</a>.
  </div>
</div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>