

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Add a Jupyter App on a Kubernetes Cluster that behaves like HPC compute &mdash; Open OnDemand 2.0.20 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Add Custom Queues/Partitions" href="add-custom-queue.html" />
    <link rel="prev" title="Add a Jupyter App on a Kubernetes Cluster" href="k8s-jupyter.html" />
 
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-34776817-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-34776817-3');
</script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">General</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference.html">Configuration Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
</ul>
<p class="caption"><span class="caption-text">Install</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../authentication.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation/add-cluster-config.html">Add Cluster Configuration Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation/resource-manager.html">Resource Manager Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../customization_overview.html">Customization Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../customization.html">Customization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analytics.html">Analytics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../monitoring.html">Monitoring</a></li>
</ul>
<p class="caption"><span class="caption-text">How-Tos</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../how-tos/apps.html">Creating Applications</a></li>
</ul>
<p class="caption"><span class="caption-text">Extend</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../interactive/setup.html">Setup Interactive Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../enable-desktops.html">Enable Interactive Desktop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install-ihpc-apps.html">Install Other Interactive Apps</a></li>
</ul>
<p class="caption"><span class="caption-text">Deploy</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../app-authorization.html">App Authorization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app-sharing.html">App Sharing</a></li>
</ul>
<p class="caption"><span class="caption-text">Develop Interactive Apps</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../app-development.html">App Development</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../tutorials-interactive-apps.html">Tutorials: Interactive Apps</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="add-jupyter.html">Add a Jupyter App</a></li>
<li class="toctree-l2"><a class="reference internal" href="add-rstudio.html">Add an RStudio App</a></li>
<li class="toctree-l2"><a class="reference internal" href="add-matlab.html">Add a MATLAB App</a></li>
<li class="toctree-l2"><a class="reference internal" href="k8s-jupyter.html">Add a Jupyter App on a Kubernetes Cluster</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Add a Jupyter App on a Kubernetes Cluster that behaves like HPC compute</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-container">The container</a></li>
<li class="toctree-l3"><a class="reference internal" href="#switch-between-slurm-and-kubernetes">Switch between SLURM and Kubernetes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#container-spec">container spec</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mounts">mounts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#submit-yml-in-full">submit yml in full</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="add-custom-queue.html">Add Custom Queues/Partitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html">Troubleshooting Interactive Apps</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Develop Passenger Apps</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials-passenger-apps.html">Tutorials: Passenger Apps</a></li>
</ul>
<p class="caption"><span class="caption-text">Release Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes/v2.1-release-notes.html">v2.1 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes/v2.0-release-notes.html">v2.0 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes/v1.8-release-notes.html">v1.8 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes/v1.7-release-notes.html">v1.7 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes/v1.6-release-notes.html">v1.6 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes/v1.5-release-notes.html">v1.5 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes/v1.4-release-notes.html">v1.4 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes/v1.3-release-notes.html">v1.3 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes/v1.2-release-notes.html">v1.2 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes/v1.1-release-notes.html">v1.1 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes/v1.0-release-notes.html">v1.0 Release Notes</a></li>
</ul>
<p class="caption"><span class="caption-text">Known Issues</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../issues/overview.html">OnDemand’s Known Issues</a></li>
</ul>
<p class="caption"><span class="caption-text">Legacy Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../applications.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user-documentation.html">User Documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Open OnDemand</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../tutorials-interactive-apps.html">Tutorials: Interactive Apps</a> &raquo;</li>
        
      <li>Add a Jupyter App on a Kubernetes Cluster that behaves like HPC compute</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OSC/ood-documentation/blob/develop/source/app-development/tutorials-interactive-apps/k8s-like-hpc-jupyter.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="add-a-jupyter-app-on-a-kubernetes-cluster-that-behaves-like-hpc-compute">
<span id="app-development-tutorials-interactive-apps-k8s-like-hpc-jupyter"></span><h1>Add a Jupyter App on a Kubernetes Cluster that behaves like HPC compute<a class="headerlink" href="#add-a-jupyter-app-on-a-kubernetes-cluster-that-behaves-like-hpc-compute" title="Permalink to this headline">¶</a></h1>
<p>This tutorial will walk you through creating an interactive Jupyter app that
your users will use to launch a <a class="reference external" href="http://jupyter.readthedocs.io/en/latest/">Jupyter Notebook Server</a> in a kubernetes cluster.
The container will behave much like a HPC compute node. This has the benefit that
a single app can serve both traditional HPC as well as Kubernetes.</p>
<p>It assumes you have a working understanding of app development already. The purpose of
this document is to describe how to write apps specifically for a kubernetes cluster,
so it skips a lot of important details about app development that may be found in
other tutorials like <a class="reference internal" href="add-jupyter.html#app-development-tutorials-interactive-apps-add-jupyter"><span class="std std-ref">Add a Jupyter App</span></a>.</p>
<p>We’re going to be looking at the <a class="reference external" href="https://github.com/OSC/bc_osc_jupyter">bc osc jupyter</a> app which is OSC’s production Jupyter app. You can fork, clone
and modify for your site.  This page also holds the <a class="reference internal" href="#submit-yml-in-full">submit yml in full</a> for reference.</p>
<p>Refer to <a class="reference internal" href="k8s-jupyter.html#app-development-tutorials-interactive-apps-k8s-jupyter"><span class="std std-ref">the interactive K8s Jupyter app</span></a> for
additional details on items defined in <code class="docutils literal notranslate"><span class="pre">submit.yml.erb</span></code> as well as a more traditional container approach.</p>
<div class="section" id="the-container">
<h2>The container<a class="headerlink" href="#the-container" title="Permalink to this headline">¶</a></h2>
<p>The container to make Kubernetes pods look like HPC compute would end up needing all
the OS packages present on the HPC environment.  The OS of the container itself would also
need to compatible with packages installed on HPC environment so if you run RHEL 8 on HPC
you would also need to run RHEL 8 inside the container.</p>
<p>Things like Lmod and HPC applications will need to be run inside the Pod’s container just like
if a job was spawned in a traditional HPC resource manager.</p>
</div>
<div class="section" id="switch-between-slurm-and-kubernetes">
<h2>Switch between SLURM and Kubernetes<a class="headerlink" href="#switch-between-slurm-and-kubernetes" title="Permalink to this headline">¶</a></h2>
<p>The first big change from a traditional HPC interactive app is the main YAML structure is wrapped
in a large <code class="docutils literal notranslate"><span class="pre">if</span></code> statement based on the cluster choice. If a user chooses one of the HPC clusters,
the SLURM submit YAML is rendered, otherwise the Kubernetes YAML is rendered. In the following examples the
SLURM clusters are named <code class="docutils literal notranslate"><span class="pre">owens</span></code> and <code class="docutils literal notranslate"><span class="pre">pitzer</span></code> and the Kubernetes cluster is named <code class="docutils literal notranslate"><span class="pre">kubernetes</span></code>.</p>
<p>Here is the beginning of the block:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;% if cluster =~ /owens|pitzer/ -%&gt;
---
batch_connect:
  template: &quot;basic&quot;
  conn_params:
    - jupyter_api
script:
...SLURM specific...
</pre></div>
</div>
<p>Here is the logic to select Kubernetes:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;% elsif cluster =~ /kubernetes/
...Ruby variables setup here...
</pre></div>
</div>
</div>
<div class="section" id="container-spec">
<h2>container spec<a class="headerlink" href="#container-spec" title="Permalink to this headline">¶</a></h2>
<p>Let’s look at this section first of the Kubernetes block.  Here you must specify the <code class="docutils literal notranslate"><span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">image</span></code>
and <code class="docutils literal notranslate"><span class="pre">command</span></code>.  The name determines the Pod Id (the job name in HPC parlance).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">image</span></code> should be the HPC container image and <code class="docutils literal notranslate"><span class="pre">command</span></code> will be the job script that has been adapted to
work with both SLURM and Kubernetes.  The <code class="docutils literal notranslate"><span class="pre">command</span></code> will be run from the user’s home directory and will cover mount
requirements in <a class="reference internal" href="#kubernetes-mount-requirements"><span class="std std-ref">mount requirements</span></a>.</p>
<p>One important aspect of the <code class="docutils literal notranslate"><span class="pre">command</span></code> is that the job script executed is built using the standard <code class="docutils literal notranslate"><span class="pre">before.sh</span></code>, <code class="docutils literal notranslate"><span class="pre">script.sh</span></code> and <code class="docutils literal notranslate"><span class="pre">after.sh</span></code> that one would normally use to build the job script for interactive apps running
on HPC resources.  The way this pod is being setup, the same job script that runs on SLURM would also be used to
launch the container in Kubernetes.</p>
<p>Next you can specify additional environment variables in <code class="docutils literal notranslate"><span class="pre">env</span></code>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">native</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">container</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&quot;jupyter&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">image</span><span class="p p-Indicator">:</span> <span class="s">&quot;docker-registry.osc.edu/ondemand/ondemand-base-rhel7:0.3.1&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">image_pull_policy</span><span class="p p-Indicator">:</span> <span class="s">&quot;IfNotPresent&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">command</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;/bin/bash&quot;</span><span class="p p-Indicator">,</span><span class="s">&quot;-l&quot;</span><span class="p p-Indicator">,</span><span class="s">&quot;&lt;%=</span><span class="nv"> </span><span class="s">staged_root</span><span class="nv"> </span><span class="s">%&gt;/job_script_content.sh&quot;</span><span class="p p-Indicator">]</span>
    <span class="l l-Scalar l-Scalar-Plain">restart_policy</span><span class="p p-Indicator">:</span> <span class="s">&#39;OnFailure&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="mounts">
<span id="kubernetes-mount-requirements"></span><h2>mounts<a class="headerlink" href="#mounts" title="Permalink to this headline">¶</a></h2>
<p>For a pod to look like an HPC environment the home directory of the user and any shared filesystems would
need to be mounted on Kubernetes worker nodes and then made available to the pod.</p>
<p>In the example a Ruby structure is created to streamline some of the direct mounts where the path outside
the container is the same as the path inside the container:</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="n">mounts</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;home&#39;</span>    <span class="o">=&gt;</span> <span class="no">OodSupport</span><span class="o">::</span><span class="no">User</span><span class="o">.</span><span class="n">new</span><span class="o">.</span><span class="n">home</span><span class="p">,</span>
  <span class="s1">&#39;support&#39;</span> <span class="o">=&gt;</span> <span class="no">OodSupport</span><span class="o">::</span><span class="no">User</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">&#39;support&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">home</span><span class="p">,</span>
  <span class="s1">&#39;project&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/fs/project&#39;</span><span class="p">,</span>
  <span class="s1">&#39;scratch&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/fs/scratch&#39;</span><span class="p">,</span>
  <span class="s1">&#39;ess&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;/fs/ess&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>These mounts are defined in the YAML using a loop:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>mounts:
&lt;%- mounts.each_pair do |name, mount| -%&gt;
  - type: host
    name: &lt;%= name %&gt;
    host_type: Directory
    path: &lt;%= mount %&gt;
    destination_path: &lt;%= mount %&gt;
&lt;%- end -%&gt;
</pre></div>
</div>
<p>Additional mounts are needed to make the pod behave like a HPC compute node. Following are mounted into the container:</p>
<ul class="simple">
<li>MUNGE socket so SLURM commands inside the pod can work</li>
<li>SLURM configuration so SLURM commands inside the pod know about scheduler host</li>
<li>SSSD pipes and configuration as well as nsswitch.conf so ID lookups inside the pod will work</li>
<li>Lmod initialization script</li>
<li>Lmod HPC applications</li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">host</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">munge-socket</span>
  <span class="l l-Scalar l-Scalar-Plain">host_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Socket</span>
  <span class="l l-Scalar l-Scalar-Plain">path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/var/run/munge/munge.socket.2</span>
  <span class="l l-Scalar l-Scalar-Plain">destination_path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/var/run/munge/munge.socket.2</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">host</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">slurm-conf</span>
  <span class="l l-Scalar l-Scalar-Plain">host_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Directory</span>
  <span class="l l-Scalar l-Scalar-Plain">path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/etc/slurm</span>
  <span class="l l-Scalar l-Scalar-Plain">destination_path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/etc/slurm</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">host</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">sssd-pipes</span>
  <span class="l l-Scalar l-Scalar-Plain">host_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Directory</span>
  <span class="l l-Scalar l-Scalar-Plain">path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/var/lib/sss/pipes</span>
  <span class="l l-Scalar l-Scalar-Plain">destination_path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/var/lib/sss/pipes</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">host</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">sssd-conf</span>
  <span class="l l-Scalar l-Scalar-Plain">host_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Directory</span>
  <span class="l l-Scalar l-Scalar-Plain">path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/etc/sssd</span>
  <span class="l l-Scalar l-Scalar-Plain">destination_path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/etc/sssd</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">host</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">nsswitch</span>
  <span class="l l-Scalar l-Scalar-Plain">host_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">File</span>
  <span class="l l-Scalar l-Scalar-Plain">path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/etc/nsswitch.conf</span>
  <span class="l l-Scalar l-Scalar-Plain">destination_path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/etc/nsswitch.conf</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">host</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">lmod-init</span>
  <span class="l l-Scalar l-Scalar-Plain">host_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">File</span>
  <span class="l l-Scalar l-Scalar-Plain">path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/apps/&lt;%= compute_cluster %&gt;/lmod/lmod.sh</span>
  <span class="l l-Scalar l-Scalar-Plain">destination_path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/etc/profile.d/lmod.sh</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">host</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">intel</span>
  <span class="l l-Scalar l-Scalar-Plain">host_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Directory</span>
  <span class="l l-Scalar l-Scalar-Plain">path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/nfsroot/&lt;%= compute_cluster %&gt;/opt/intel</span>
  <span class="l l-Scalar l-Scalar-Plain">destination_path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/opt/intel</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">host</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">apps</span>
  <span class="l l-Scalar l-Scalar-Plain">host_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Directory</span>
  <span class="l l-Scalar l-Scalar-Plain">path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/apps/&lt;%= compute_cluster %&gt;</span>
  <span class="l l-Scalar l-Scalar-Plain">destination_path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;%= apps_path %&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="submit-yml-in-full">
<h2>submit yml in full<a class="headerlink" href="#submit-yml-in-full" title="Permalink to this headline">¶</a></h2>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># submit.yml.erb</span>
<span class="l l-Scalar l-Scalar-Plain">&lt;%-</span>
  <span class="l l-Scalar l-Scalar-Plain">cores = num_cores.to_i</span>

  <span class="l l-Scalar l-Scalar-Plain">if cores == 0 &amp;&amp; cluster == &quot;pitzer&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain"># little optimization for pitzer nodes. They want the whole node, if they chose &#39;any&#39;,</span>
    <span class="l l-Scalar l-Scalar-Plain"># it can be scheduled on p18 or p20 nodes. If not, they&#39;ll get the constraint below.</span>
    <span class="l l-Scalar l-Scalar-Plain">base_slurm_args = [&quot;--nodes&quot;, &quot;1&quot;, &quot;--exclusive&quot;]</span>
  <span class="l l-Scalar l-Scalar-Plain">elsif cores == 0</span>
    <span class="l l-Scalar l-Scalar-Plain"># full node on owens</span>
    <span class="l l-Scalar l-Scalar-Plain">cores = 28</span>
    <span class="l l-Scalar l-Scalar-Plain">base_slurm_args = [&quot;--nodes&quot;, &quot;1&quot;, &quot;--ntasks-per-node&quot;, &quot;28&quot;]</span>
  <span class="l l-Scalar l-Scalar-Plain">else</span>
    <span class="l l-Scalar l-Scalar-Plain">base_slurm_args = [&quot;--nodes&quot;, &quot;1&quot;, &quot;--ntasks-per-node&quot;, &quot;#{cores}&quot;]</span>
  <span class="l l-Scalar l-Scalar-Plain">end</span>

  <span class="l l-Scalar l-Scalar-Plain">slurm_args = case node_type</span>
              <span class="l l-Scalar l-Scalar-Plain">when &quot;gpu-40core&quot;</span>
                <span class="l l-Scalar l-Scalar-Plain">base_slurm_args + [&quot;--constraint&quot;, &quot;40core&quot;]</span>
              <span class="l l-Scalar l-Scalar-Plain">when &quot;gpu-48core&quot;</span>
                <span class="l l-Scalar l-Scalar-Plain">base_slurm_args + [&quot;--constraint&quot;, &quot;48core&quot;]</span>
              <span class="l l-Scalar l-Scalar-Plain">when &quot;any-40core&quot;</span>
                <span class="l l-Scalar l-Scalar-Plain">base_slurm_args + [&quot;--constraint&quot;, &quot;40core&quot;]</span>
              <span class="l l-Scalar l-Scalar-Plain">when &quot;any-48core&quot;</span>
                <span class="l l-Scalar l-Scalar-Plain">base_slurm_args + [&quot;--constraint&quot;, &quot;48core&quot;]</span>
              <span class="l l-Scalar l-Scalar-Plain">when &quot;hugemem&quot;</span>
                <span class="l l-Scalar l-Scalar-Plain">base_slurm_args + [&quot;--partition&quot;, &quot;hugemem&quot;, &quot;--exclusive&quot;]</span>
              <span class="l l-Scalar l-Scalar-Plain">when &quot;largemem&quot;</span>
                <span class="l l-Scalar l-Scalar-Plain">base_slurm_args + [&quot;--partition&quot;, &quot;largemem&quot;, &quot;--exclusive&quot;]</span>
              <span class="l l-Scalar l-Scalar-Plain">when &quot;debug&quot;</span>
                <span class="l l-Scalar l-Scalar-Plain">base_slurm_args += [&quot;--partition&quot;, &quot;debug&quot;, &quot;--exclusive&quot;]</span>
              <span class="l l-Scalar l-Scalar-Plain">else</span>
                <span class="l l-Scalar l-Scalar-Plain">base_slurm_args</span>
              <span class="l l-Scalar l-Scalar-Plain">end</span>

<span class="l l-Scalar l-Scalar-Plain">-%&gt;</span>
<span class="l l-Scalar l-Scalar-Plain">&lt;% if cluster =~ /owens|pitzer/ -%&gt;</span>
<span class="nn">---</span>
<span class="l l-Scalar l-Scalar-Plain">batch_connect</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">template</span><span class="p p-Indicator">:</span> <span class="s">&quot;basic&quot;</span>
  <span class="l l-Scalar l-Scalar-Plain">conn_params</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">jupyter_api</span>
<span class="l l-Scalar l-Scalar-Plain">script</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">accounting_id</span><span class="p p-Indicator">:</span> <span class="s">&quot;&lt;%=</span><span class="nv"> </span><span class="s">account</span><span class="nv"> </span><span class="s">%&gt;&quot;</span>
<span class="l l-Scalar l-Scalar-Plain">&lt;% if node_type =~ /gpu/ -%&gt;</span>
  <span class="l l-Scalar l-Scalar-Plain">gpus_per_node</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="l l-Scalar l-Scalar-Plain">&lt;% end -%&gt;</span>
  <span class="l l-Scalar l-Scalar-Plain">native</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">&lt;%- slurm_args.each do |arg| %&gt;</span>
    <span class="l l-Scalar l-Scalar-Plain">- &quot;&lt;%= arg %&gt;&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">&lt;%- end %&gt;</span>
<span class="l l-Scalar l-Scalar-Plain">&lt;% elsif cluster =~ /kubernetes/</span>
   <span class="l l-Scalar l-Scalar-Plain">if node_type =~ /owens/</span>
     <span class="l l-Scalar l-Scalar-Plain">compute_cluster = &quot;owens&quot;</span>
     <span class="l l-Scalar l-Scalar-Plain">apps_path = &quot;/usr/local&quot;</span>
     <span class="l l-Scalar l-Scalar-Plain"># Memory per core with hyperthreading enabled</span>
     <span class="l l-Scalar l-Scalar-Plain">memory_mb = num_cores.to_i * 2200</span>
   <span class="l l-Scalar l-Scalar-Plain">elsif node_type =~ /pitzer/</span>
     <span class="l l-Scalar l-Scalar-Plain">compute_cluster = &quot;pitzer&quot;</span>
     <span class="l l-Scalar l-Scalar-Plain">apps_path = &quot;/apps&quot;</span>
     <span class="l l-Scalar l-Scalar-Plain"># Memory per core with hyperthreading enabled</span>
     <span class="l l-Scalar l-Scalar-Plain">memory_mb = num_cores.to_i * 4000</span>
   <span class="l l-Scalar l-Scalar-Plain">end</span>
   <span class="l l-Scalar l-Scalar-Plain">mounts = {</span>
     <span class="l l-Scalar l-Scalar-Plain">&#39;home&#39;    =&gt; OodSupport::User.new.home,</span>
     <span class="l l-Scalar l-Scalar-Plain">&#39;support&#39; =&gt; OodSupport::User.new(&#39;support&#39;).home,</span>
     <span class="l l-Scalar l-Scalar-Plain">&#39;project&#39; =&gt; &#39;/fs/project&#39;,</span>
     <span class="l l-Scalar l-Scalar-Plain">&#39;scratch&#39; =&gt; &#39;/fs/scratch&#39;,</span>
     <span class="l l-Scalar l-Scalar-Plain">&#39;ess&#39;     =&gt; &#39;/fs/ess&#39;,</span>
   <span class="l l-Scalar l-Scalar-Plain">}</span>
<span class="l l-Scalar l-Scalar-Plain">-%&gt;</span>
<span class="nn">---</span>
<span class="l l-Scalar l-Scalar-Plain">script</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">accounting_id</span><span class="p p-Indicator">:</span> <span class="s">&quot;&lt;%=</span><span class="nv"> </span><span class="s">account</span><span class="nv"> </span><span class="s">%&gt;&quot;</span>
  <span class="l l-Scalar l-Scalar-Plain">wall_time</span><span class="p p-Indicator">:</span> <span class="s">&quot;&lt;%=</span><span class="nv"> </span><span class="s">bc_num_hours.to_i</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">3600</span><span class="nv"> </span><span class="s">%&gt;&quot;</span>
  <span class="l l-Scalar l-Scalar-Plain">&lt;%- if node_type =~ /gpu/ -%&gt;</span>
  <span class="l l-Scalar l-Scalar-Plain">gpus_per_node</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
  <span class="l l-Scalar l-Scalar-Plain">&lt;%- end -%&gt;</span>
  <span class="l l-Scalar l-Scalar-Plain">native</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">container</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&quot;jupyter&quot;</span>
      <span class="l l-Scalar l-Scalar-Plain">image</span><span class="p p-Indicator">:</span> <span class="s">&quot;docker-registry.osc.edu/ondemand/ondemand-base-rhel7:0.3.1&quot;</span>
      <span class="l l-Scalar l-Scalar-Plain">image_pull_policy</span><span class="p p-Indicator">:</span> <span class="s">&quot;IfNotPresent&quot;</span>
      <span class="l l-Scalar l-Scalar-Plain">command</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;/bin/bash&quot;</span><span class="p p-Indicator">,</span><span class="s">&quot;-l&quot;</span><span class="p p-Indicator">,</span><span class="s">&quot;&lt;%=</span><span class="nv"> </span><span class="s">staged_root</span><span class="nv"> </span><span class="s">%&gt;/job_script_content.sh&quot;</span><span class="p p-Indicator">]</span>
      <span class="l l-Scalar l-Scalar-Plain">restart_policy</span><span class="p p-Indicator">:</span> <span class="s">&#39;OnFailure&#39;</span>
      <span class="l l-Scalar l-Scalar-Plain">env</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">NB_UID</span><span class="p p-Indicator">:</span> <span class="s">&quot;&lt;%=</span><span class="nv"> </span><span class="s">Etc.getpwnam(ENV[&#39;USER&#39;]).uid</span><span class="nv"> </span><span class="s">%&gt;&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">NB_USER</span><span class="p p-Indicator">:</span> <span class="s">&quot;&lt;%=</span><span class="nv"> </span><span class="s">ENV[&#39;USER&#39;]</span><span class="nv"> </span><span class="s">%&gt;&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">NB_GID</span><span class="p p-Indicator">:</span> <span class="s">&quot;&lt;%=</span><span class="nv"> </span><span class="s">Etc.getpwnam(ENV[&#39;USER&#39;]).gid</span><span class="nv"> </span><span class="s">%&gt;&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">CLUSTER</span><span class="p p-Indicator">:</span> <span class="s">&quot;&lt;%=</span><span class="nv"> </span><span class="s">compute_cluster</span><span class="nv"> </span><span class="s">%&gt;&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">KUBECONFIG</span><span class="p p-Indicator">:</span> <span class="s">&quot;/dev/null&quot;</span>
      <span class="l l-Scalar l-Scalar-Plain">labels</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">osc.edu/cluster</span><span class="p p-Indicator">:</span> <span class="s">&quot;&lt;%=</span><span class="nv"> </span><span class="s">compute_cluster</span><span class="nv"> </span><span class="s">%&gt;&quot;</span>
      <span class="l l-Scalar l-Scalar-Plain">port</span><span class="p p-Indicator">:</span> <span class="s">&quot;8080&quot;</span>
      <span class="l l-Scalar l-Scalar-Plain">cpu</span><span class="p p-Indicator">:</span> <span class="s">&quot;&lt;%=</span><span class="nv"> </span><span class="s">num_cores</span><span class="nv"> </span><span class="s">%&gt;&quot;</span>
      <span class="l l-Scalar l-Scalar-Plain">memory</span><span class="p p-Indicator">:</span> <span class="s">&quot;&lt;%=</span><span class="nv"> </span><span class="s">memory_mb</span><span class="nv"> </span><span class="s">%&gt;Mi&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">mounts</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">&lt;%- mounts.each_pair do |name, mount| -%&gt;</span>
      <span class="l l-Scalar l-Scalar-Plain">- type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">host</span>
        <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;%= name %&gt;</span>
        <span class="l l-Scalar l-Scalar-Plain">host_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Directory</span>
        <span class="l l-Scalar l-Scalar-Plain">path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;%= mount %&gt;</span>
        <span class="l l-Scalar l-Scalar-Plain">destination_path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;%= mount %&gt;</span>
    <span class="l l-Scalar l-Scalar-Plain">&lt;%- end -%&gt;</span>
      <span class="l l-Scalar l-Scalar-Plain">- type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">host</span>
        <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">munge-socket</span>
        <span class="l l-Scalar l-Scalar-Plain">host_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Socket</span>
        <span class="l l-Scalar l-Scalar-Plain">path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/var/run/munge/munge.socket.2</span>
        <span class="l l-Scalar l-Scalar-Plain">destination_path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/var/run/munge/munge.socket.2</span>
      <span class="l l-Scalar l-Scalar-Plain">- type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">host</span>
        <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">slurm-conf</span>
        <span class="l l-Scalar l-Scalar-Plain">host_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Directory</span>
        <span class="l l-Scalar l-Scalar-Plain">path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/etc/slurm</span>
        <span class="l l-Scalar l-Scalar-Plain">destination_path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/etc/slurm</span>
      <span class="l l-Scalar l-Scalar-Plain">- type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">host</span>
        <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">sssd-pipes</span>
        <span class="l l-Scalar l-Scalar-Plain">host_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Directory</span>
        <span class="l l-Scalar l-Scalar-Plain">path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/var/lib/sss/pipes</span>
        <span class="l l-Scalar l-Scalar-Plain">destination_path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/var/lib/sss/pipes</span>
      <span class="l l-Scalar l-Scalar-Plain">- type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">host</span>
        <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">sssd-conf</span>
        <span class="l l-Scalar l-Scalar-Plain">host_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Directory</span>
        <span class="l l-Scalar l-Scalar-Plain">path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/etc/sssd</span>
        <span class="l l-Scalar l-Scalar-Plain">destination_path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/etc/sssd</span>
      <span class="l l-Scalar l-Scalar-Plain">- type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">host</span>
        <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">nsswitch</span>
        <span class="l l-Scalar l-Scalar-Plain">host_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">File</span>
        <span class="l l-Scalar l-Scalar-Plain">path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/etc/nsswitch.conf</span>
        <span class="l l-Scalar l-Scalar-Plain">destination_path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/etc/nsswitch.conf</span>
      <span class="l l-Scalar l-Scalar-Plain">- type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">host</span>
        <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">lmod-init</span>
        <span class="l l-Scalar l-Scalar-Plain">host_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">File</span>
        <span class="l l-Scalar l-Scalar-Plain">path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/apps/&lt;%= compute_cluster %&gt;/lmod/lmod.sh</span>
        <span class="l l-Scalar l-Scalar-Plain">destination_path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/etc/profile.d/lmod.sh</span>
      <span class="l l-Scalar l-Scalar-Plain">- type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">host</span>
        <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">apps</span>
        <span class="l l-Scalar l-Scalar-Plain">host_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Directory</span>
        <span class="l l-Scalar l-Scalar-Plain">path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/apps/&lt;%= compute_cluster %&gt;</span>
        <span class="l l-Scalar l-Scalar-Plain">destination_path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;%= apps_path %&gt;</span>
    <span class="l l-Scalar l-Scalar-Plain">node_selector</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">osc.edu/role</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ondemand</span>
<span class="l l-Scalar l-Scalar-Plain">&lt;% end -%&gt;</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="add-custom-queue.html" class="btn btn-neutral float-right" title="Add Custom Queues/Partitions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="k8s-jupyter.html" class="btn btn-neutral float-left" title="Add a Jupyter App on a Kubernetes Cluster" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2021, Ohio Supercomputer Center

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Documentation Versions</span>
    v: 
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Versions</dt>
      
        <dd><a href="https://OSC.github.io/ood-documentation/latest/app-development/tutorials-interactive-apps/k8s-like-hpc-jupyter.html">latest</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-2.0/app-development/tutorials-interactive-apps/k8s-like-hpc-jupyter.html">2.0</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.8/app-development/tutorials-interactive-apps/k8s-like-hpc-jupyter.html">1.8</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.7/app-development/tutorials-interactive-apps/k8s-like-hpc-jupyter.html">1.7</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.6/app-development/tutorials-interactive-apps/k8s-like-hpc-jupyter.html">1.6</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.5/app-development/tutorials-interactive-apps/k8s-like-hpc-jupyter.html">1.5</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.4/app-development/tutorials-interactive-apps/k8s-like-hpc-jupyter.html">1.4</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.3/app-development/tutorials-interactive-apps/k8s-like-hpc-jupyter.html">1.3</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.2/app-development/tutorials-interactive-apps/k8s-like-hpc-jupyter.html">1.2</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.1/app-development/tutorials-interactive-apps/k8s-like-hpc-jupyter.html">1.1</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.0/app-development/tutorials-interactive-apps/k8s-like-hpc-jupyter.html">1.0</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/develop/app-development/tutorials-interactive-apps/k8s-like-hpc-jupyter.html">develop</a></dd>
      
    </dl>
    <dl>
      <dt>On GitHub</dt>
        <dd>
          <a href="http://openondemand.org/">Website</a>
        </dd>
        <dd>
          <a href="https://github.com/OSC/Open-OnDemand">Main Repo</a>
        </dd>
    </dl>
    <hr/>
    Theme provided by <a href="http://www.readthedocs.org">Read the Docs</a>.
  </div>
</div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>