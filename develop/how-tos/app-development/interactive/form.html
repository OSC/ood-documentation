

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>User Form (form.yml.erb) &mdash; Open OnDemand 2.1.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Form Widgets" href="form-widgets.html" />
    <link rel="prev" title="Manifest yml files" href="manifest.html" />
 
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-34776817-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-34776817-3');
</script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html">
          

          
            
            <img src="../../../_static/logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../authentication.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/add-cluster-config.html">Cluster Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setup Interactive Apps</a></li>
</ul>
<p class="caption"><span class="caption-text">How-Tos</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../customizations.html">Customizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../debug.html">Debugging and Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../enable-desktops.html">Enable Interactive Desktop</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../app-development.html">App Development</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../enabling-development-mode.html">Enabling App Development</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../interactive.html">Interactive Apps</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="manifest.html">Manifest yml files</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">User Form (form.yml.erb)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#attributes">Attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuring-which-cluster-to-submit-to">Configuring which cluster to submit to</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="form-widgets.html">Form Widgets</a></li>
<li class="toctree-l3"><a class="reference internal" href="dynamic-form-widgets.html">Dynamic Form Widgets</a></li>
<li class="toctree-l3"><a class="reference internal" href="template.html">Render Template</a></li>
<li class="toctree-l3"><a class="reference internal" href="submit.html">Job Submission (submit.yml.erb)</a></li>
<li class="toctree-l3"><a class="reference internal" href="view.html">Connection View</a></li>
<li class="toctree-l3"><a class="reference internal" href="sub-apps.html">Sub-Apps and Reconfiguring exsting apps</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../app-sharing.html">App Sharing</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../install-ihpc-apps.html">Install Other Interactive Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/tutorials-interactive-apps.html">Tutorials: Interactive Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/tutorials-passenger-apps.html">Tutorials: Passenger Apps</a></li>
</ul>
<p class="caption"><span class="caption-text">More</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference.html">Configuration Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../issues/overview.html">OnDemand’s Known Issues</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Open OnDemand</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../app-development.html">App Development</a> &raquo;</li>
        
          <li><a href="../interactive.html">Interactive Apps</a> &raquo;</li>
        
      <li>User Form (form.yml.erb)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OSC/ood-documentation/blob/develop/source/how-tos/app-development/interactive/form.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="user-form-form-yml-erb">
<span id="app-development-interactive-form"></span><h1>User Form (form.yml.erb)<a class="headerlink" href="#user-form-form-yml-erb" title="Permalink to this headline">¶</a></h1>
<p>The configuration file <code class="docutils literal notranslate"><span class="pre">form.yml</span></code> creates the <a class="reference external" href="https://en.wikipedia.org/wiki/Form_(HTML)">html form</a> your customers will use
to start the interactive application.</p>
<p>Let’s look at a simple example of how the main components <code class="docutils literal notranslate"><span class="pre">form</span></code> and <code class="docutils literal notranslate"><span class="pre">attributes</span></code> work.
<code class="docutils literal notranslate"><span class="pre">form</span></code> is a list of form choices for the application. <code class="docutils literal notranslate"><span class="pre">attributes</span></code> is then specifying
<em>what</em> those items in <code class="docutils literal notranslate"><span class="pre">form</span></code> are, whether they’re number fields or choices and so on.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># ${HOME}/ondemand/dev/my_app/form.yml</span><span class="w"></span>
<span class="nn">---</span><span class="w"></span>

<span class="c1"># the cluster(s) this app can submit jobs to.</span><span class="w"></span>
<span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;owens&quot;</span><span class="w"></span>

<span class="c1"># &#39;form&#39; is a list of form choices for this app. Here we&#39;re allowing users to set</span><span class="w"></span>
<span class="c1"># the account and the number of cores they want to request for this job.</span><span class="w"></span>
<span class="nt">form</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">account</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cores</span><span class="w"></span>

<span class="c1"># By default, everything defined in &#39;form&#39; above is a text_field. Let&#39;s leave account alone</span><span class="w"></span>
<span class="c1"># We do however, want cores to be a number_field and with some min &amp; max values.</span><span class="w"></span>
<span class="nt">attributes</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">cores</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">widget</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;number_field&#39;</span><span class="w"></span>
<span class="w">    </span><span class="nt">min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">    </span><span class="nt">max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">40</span><span class="w"></span>
</pre></div>
</div>
<p>It is located in the root of the application directory.</p>
<p>Assuming we already have a sandbox Interactive App deployed under:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>${HOME}/ondemand/dev/my_app
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">form.yml</span></code> configuration file can be found at:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>${HOME}/ondemand/dev/my_app/form.yml
</pre></div>
</div>
<p>Then in the browser, navigate to the dashboard and choose in the top
right menu: <em>Develop</em> → <em>My Sandbox Apps (Development)</em>. Finally click <em>Launch
My App</em> from the list of sandbox apps.</p>
<p>You should now see the HTML form used to gather the user-defined attributes for
building and launching the <code class="docutils literal notranslate"><span class="pre">my_app</span></code> Interactive App session.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can include dynamically generated content in the form by renaming the
form file to <code class="docutils literal notranslate"><span class="pre">form.yml.erb</span></code> and incorporating ERB syntax.</p>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>This is the full list of items with details, you may supply to this yaml file to configure this application.</p>
<dl class="describe">
<dt>
<code class="sig-name descname">cluster (Array&lt;String&gt; or String)</code></dt>
<dd><p>the cluster ids that the Interactive App session is submitted to.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Prior to 1.8, this configuration was a single string (a single cluster).
We now support one application submitting to multiple clusters. See the
section below on <a class="reference internal" href="#configuring-which-cluster-to-submit-to">configuring which cluster to submit to</a> for more information.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The cluster id must correspond to a cluster configuration file located
under:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">ood</span><span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">clusters</span><span class="o">.</span><span class="n">d</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">form (Array&lt;String&gt;)</code></dt>
<dd><p>a list of <strong>all</strong> the attributes that will be used as the context for
describing an Interactive App session</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The attributes that appear as HTML form elements will appear to the
user in the order they are listed in this configuration option.</p>
</div>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">attributes (Hash)</code></dt>
<dd><p>the object defining the hard-coded value or HTML form element used for the
various custom attributes</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">cacheable (Boolean)</code></dt>
<dd><p>whether or not the application is cacheable or not. Defaults to true.</p>
</dd></dl>

</div>
<div class="section" id="attributes">
<h2>Attributes<a class="headerlink" href="#attributes" title="Permalink to this headline">¶</a></h2>
<p>Attributes are <em>variables</em> whose values can be set either by the user from
within an HTML form or hard-coded to a specific value in the form
configuration. These attributes and their corresponding values are then made
available to the Interactive App through its intermediate steps:
<a class="reference internal" href="template.html#app-development-interactive-template"><span class="std std-ref">Render Template</span></a> and
<a class="reference internal" href="submit.html#app-development-interactive-submit"><span class="std std-ref">Job Submission (submit.yml.erb)</span></a>.</p>
<div class="section" id="predefined-attributes">
<span id="app-development-interactive-form-predefined-attributes"></span><h3>Predefined Attributes<a class="headerlink" href="#predefined-attributes" title="Permalink to this headline">¶</a></h3>
<p>The Dashboard that supports these plugins provides the plugins with some useful
predefined attributes that can be included in the <code class="docutils literal notranslate"><span class="pre">form:</span></code> configuration list
with very little or no modification on the part of the developer.</p>
<p>So a very simple <code class="docutils literal notranslate"><span class="pre">form.yml</span></code> that requests the user input a queue followed by
an account to submit the batch job (interactive session) to, and then
subsequently submits the job to that queue without any customization on the
part of the app developer can look like:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># ${HOME}/ondemand/dev/my_app/form.yml</span><span class="w"></span>
<span class="nn">---</span><span class="w"></span>
<span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;owens&quot;</span><span class="w"></span>
<span class="nt">form</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bc_queue</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bc_account</span><span class="w"></span>
</pre></div>
</div>
<p>The most commonly used predefined attributes are given as:</p>
<dl>
<dt>bc_account</dt><dd><p>This adds a <code class="docutils literal notranslate"><span class="pre">text_field</span></code> to the HTML form that will be used as the charged
account for the submitted job.</p>
<p>This attribute gets directly set on <a class="reference external" href="http://www.rubydoc.info/gems/ood_core/OodCore%2FJob%2FScript:accounting_id">OodCore::Job::Script#accounting_id</a>.</p>
</dd>
<dt>bc_queue</dt><dd><p>This adds a <code class="docutils literal notranslate"><span class="pre">text_field</span></code> to the HTML form that will supply the name of the
queue that the batch job is submitted to.</p>
<p>This attribute gets directly set on <a class="reference external" href="http://www.rubydoc.info/gems/ood_core/OodCore%2FJob%2FScript:queue_name">OodCore::Job::Script#queue_name</a>.</p>
</dd>
<dt>bc_num_hours</dt><dd><p>This adds a <code class="docutils literal notranslate"><span class="pre">number_field</span></code> to the HTML form that describes the maximum
amount of hours the submitted batch job may run.</p>
<p>This attribute gets converted to seconds and then set on
<a class="reference external" href="http://www.rubydoc.info/gems/ood_core/OodCore%2FJob%2FScript:wall_time">OodCore::Job::Script#wall_time</a>.</p>
</dd>
<dt>bc_num_slots</dt><dd><p>This adds a <code class="docutils literal notranslate"><span class="pre">number_field</span></code> to the HTML form that describes the number of
processors, CPUs on a single node, or nodes that the submitted job may use
(depends on the resource manager used, e.g., Torque, Slurm, …).</p>
<p>This attribute manipulates the brittle <a class="reference external" href="http://www.rubydoc.info/gems/ood_core/OodCore%2FJob%2FScript:native">OodCore::Job::Script#native</a> field
with a value that depends on the given resource manager for the cluster.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This predefined attribute is very resource manager specific, and is the
most brittle of all the other predefined attributes. May require
customization (see
<a class="reference internal" href="#interactive-development-form-customizing-attributes"><span class="std std-ref">Customizing Attributes</span></a>) to work at
your center.</p>
</div>
</dd>
<dt>bc_email_on_started</dt><dd><p>This adds a <code class="docutils literal notranslate"><span class="pre">check_box</span></code> to the HTML form that determines whether the user
should be notified by email when the batch job starts.</p>
<p>This attribute sets value of <a class="reference external" href="http://www.rubydoc.info/gems/ood_core/OodCore%2FJob%2FScript:email_on_started">OodCore::Job::Script#email_on_started</a>
depending on whether the user checked the box or not.</p>
</dd>
</dl>
</div>
<div class="section" id="automatic-predefined-attributes">
<span id="auto-bc-form-options"></span><h3>Automatic Predefined Attributes<a class="headerlink" href="#automatic-predefined-attributes" title="Permalink to this headline">¶</a></h3>
<p>Automatic attributes automatically generate lists or values.  For example
<code class="docutils literal notranslate"><span class="pre">bc_queue</span></code> above will generate a <code class="docutils literal notranslate"><span class="pre">text_field</span></code> where the user has to
input the queue name themselves.</p>
<p><code class="docutils literal notranslate"><span class="pre">auto_queues</span></code> on the other hand will automatically build a list of queues
for the user to choose from without intervention from the administrator
or the user.</p>
<dl>
<dt>auto_primary_group</dt><dd><p>This will automatically set the <a class="reference external" href="http://www.rubydoc.info/gems/ood_core/OodCore%2FJob%2FScript:accounting_id">OodCore::Job::Script#accounting_id</a> to the
primary group of the user.  No choice will be given to the user.</p>
</dd>
<dt>auto_modules_&lt;MODULE&gt;</dt><dd><p>This will generate a list of modules in a <code class="docutils literal notranslate"><span class="pre">select</span></code> widget.
For example <code class="docutils literal notranslate"><span class="pre">auto_modules_matlab</span></code> will automatically populate a dropdown
list of every single <code class="docutils literal notranslate"><span class="pre">matlab</span></code> version available, including the default
version.</p>
<p>To disable the default version, use the <code class="docutils literal notranslate"><span class="pre">attributes</span></code> field like so:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">attributes</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">auto_modules_matlab</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>
</pre></div>
</div>
<p>See <a class="reference internal" href="../../../reference/files/ondemand-d-ymls.html#module-file-dir"><span class="std std-ref">the module directory configuration</span></a> on how to enable
the cluster module files that need to be read.</p>
<p>If you have dynamic form widgets enabled, the option list will be cluster aware.
Meaning only versions appropriate to a given cluster will be shown when that
cluster is chosen.</p>
</dd>
<dt>auto_groups</dt><dd><p>This will automatically generate a <code class="docutils literal notranslate"><span class="pre">select</span></code> widget populated with a list of the Unix
groups the user is currently in. Administrators can configure <a class="reference internal" href="../../../reference/files/ondemand-d-ymls.html#auto-groups-filter"><span class="std std-ref">filter for autogroups</span></a>
to limit the groups shown.</p>
</dd>
<dt>auto_queues</dt><dd><p>This will generate a <code class="docutils literal notranslate"><span class="pre">select</span></code> widget list of all the queues available to the user.
These queues will be cluster if you have <a class="reference internal" href="dynamic-form-widgets.html#dynamic-bc-apps"><span class="std std-ref">dynamic options</span></a>
enabled. That is, they’ll show or hide relevant lists given the currently selected
<code class="docutils literal notranslate"><span class="pre">cluster</span></code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>We only have support for Slurm queues (partitions) at this time.</p>
</div>
</dd>
<dt>auto_accounts</dt><dd><p>This will generate a <code class="docutils literal notranslate"><span class="pre">select</span></code> widget list of all the accounts available to the user.</p>
<p><code class="docutils literal notranslate"><span class="pre">auto_accounts</span></code> will generate cluster aware lists if you have <a class="reference internal" href="dynamic-form-widgets.html#dynamic-bc-apps"><span class="std std-ref">dynamic options</span></a>
enabled.  This means it will only show a list of accounts available for the <code class="docutils literal notranslate"><span class="pre">cluster</span></code> that’s
currently selected.  If this setting is not enabled, it will generate a list of all accounts
available on all clusters and will not hide any of them.</p>
<p>If, however, your site has a simpler accounting scheme where all accounts are available on
all clusters, you can set the <a class="reference internal" href="../../../reference/files/ondemand-d-ymls.html#bc-simple-auto-accounts"><span class="std std-ref">bc_simple_auto_accounts</span></a> setting
for some optimizations.</p>
<p>By default, we return exactly what the scheduler returns. These accounts may be lowercase
when you need uppercase accounts. To enable uppercase accounts set the environment variable
<code class="docutils literal notranslate"><span class="pre">OOD_UPCASE_ACCOUNTS</span></code> to anything.  If the environment variable is set to <em>anything</em> the
system will uppercase the accounts (set it to <code class="docutils literal notranslate"><span class="pre">yes</span></code> if you don’t know what value to give).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>We only have support for Slurm accounts at this time.</p>
</div>
</dd>
<dt>auto_qos</dt><dd><p>This will automatically generate a <code class="docutils literal notranslate"><span class="pre">select</span></code> widget populated with a list of all the QoS
(Quality of Service) values available.  These are cluster aware if you have
<a class="reference internal" href="dynamic-form-widgets.html#dynamic-bc-apps"><span class="std std-ref">dynamic options</span></a> enabled.</p>
</dd>
</dl>
</div>
<div class="section" id="customizing-attributes">
<span id="interactive-development-form-customizing-attributes"></span><h3>Customizing Attributes<a class="headerlink" href="#customizing-attributes" title="Permalink to this headline">¶</a></h3>
<p>For each defined attribute in the <code class="docutils literal notranslate"><span class="pre">form:</span></code> configuration option, you can
modify/override any component that makes up the HTML form element in the
<code class="docutils literal notranslate"><span class="pre">attributes:</span></code> configuration option, e.g.:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">attributes</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">my_custom_attribute</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;My</span><span class="nv"> </span><span class="s">custom</span><span class="nv"> </span><span class="s">label&quot;</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">...</span><span class="w"></span>
</pre></div>
</div>
<p>The available configuration options that can be modified for a given attribute
are:</p>
<dl class="describe">
<dt>
<code class="sig-name descname">widget (String, null)</code></dt>
<dd><p>For more detailed information with examples regarding the widget field, see <a class="reference internal" href="form-widgets.html#form-widgets"><span class="std std-ref">Form Widgets</span></a>.</p>
<blockquote>
<div><p>the type of HTML form element to use for input</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">check_box</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hidden_field</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">number_field</span></code> - can use <code class="docutils literal notranslate"><span class="pre">min</span></code>, <code class="docutils literal notranslate"><span class="pre">max</span></code>, <code class="docutils literal notranslate"><span class="pre">step</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radio_button</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">resolution_field</span></code> (used for specifying resolution dimensions necessary for VNC)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">select</span></code> - can use <code class="docutils literal notranslate"><span class="pre">options</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">text_area</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">text_field</span></code></p></li>
</ul>
<p>Some other fields that have varying support across different browsers
include: <code class="docutils literal notranslate"><span class="pre">range_field</span></code>, <code class="docutils literal notranslate"><span class="pre">date_field</span></code>, <code class="docutils literal notranslate"><span class="pre">search_field</span></code>,
<code class="docutils literal notranslate"><span class="pre">email_field</span></code>, <code class="docutils literal notranslate"><span class="pre">telephone_field</span></code>, <code class="docutils literal notranslate"><span class="pre">url_field</span></code>, <code class="docutils literal notranslate"><span class="pre">password_field</span></code>.</p>
<dl>
<dt>Default</dt><dd><p>Accepts any text</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">widget</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;text_field&quot;</span><span class="w"></span>
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><p>Accepts only numbers</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">widget</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;number_field&quot;</span><span class="w"></span>
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">value (String, null)</code></dt>
<dd><p>the default value used for the input field</p>
<dl>
<dt>Default</dt><dd><p>None</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"></span>
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><p>Set default value of 5</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;5&quot;</span><span class="w"></span>
</pre></div>
</div>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Values get cached so that users do not need to repeat previous session
submissions. So this default value will only appear for the user if
they have no cached value.</p>
</div>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">label (String, null)</code></dt>
<dd><p>the label displayed above the input field</p>
<dl>
<dt>Default</dt><dd><p>Uses the name of the attribute</p>
</dd>
<dt>Example</dt><dd><p>Better describe the attribute</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Number</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">nodes&quot;</span><span class="w"></span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">required (Boolean, null)</code></dt>
<dd><p>whether this field must be filled out before submitting the form</p>
<dl>
<dt>Default</dt><dd><p>Not required by default</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><p>Make field required</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">help (String, null)</code></dt>
<dd><p>help text that appears below the field (can be written in <a class="reference external" href="https://en.wikipedia.org/wiki/Markdown">Markdown</a>)</p>
<dl>
<dt>Default</dt><dd><p>No help text appears below input field</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">help</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><p>Leave a long descriptive help message using <a class="reference external" href="https://en.wikipedia.org/wiki/Markdown">Markdown</a></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">help</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="w"></span>
<span class="w">  </span><span class="no">Please fill in this field with **one** of the following</span><span class="w"></span>
<span class="w">  </span><span class="no">options:</span><span class="w"></span>

<span class="w">  </span><span class="no">- `red`</span><span class="w"></span>
<span class="w">  </span><span class="no">- `blue`</span><span class="w"></span>
<span class="w">  </span><span class="no">- `green`</span><span class="w"></span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">pattern (String, null)</code></dt>
<dd><p>a regular expression that the control’s value is checked against (only
applies to widgets: <code class="docutils literal notranslate"><span class="pre">text_field</span></code>, <code class="docutils literal notranslate"><span class="pre">search_field</span></code>, <code class="docutils literal notranslate"><span class="pre">telephone_field</span></code>,
<code class="docutils literal notranslate"><span class="pre">url_field</span></code>, <code class="docutils literal notranslate"><span class="pre">email_field</span></code>, <code class="docutils literal notranslate"><span class="pre">password_field</span></code>)</p>
<dl>
<dt>Default</dt><dd><p>No pattern</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><p>Only accept three letter country codes</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;[A-Za-z]{3}&quot;</span><span class="w"></span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">min (Integer, null)</code></dt>
<dd><p>specifies minimum value for this item, which must not be greater than its
maximum value (only applies to widget: <code class="docutils literal notranslate"><span class="pre">number_field</span></code>)</p>
<dl>
<dt>Default</dt><dd><p>No minimum value</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><p>Set minimum value of 5</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span><span class="w"></span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">max (Integer, null)</code></dt>
<dd><p>specifies maximum value for this item, which must not be less than its
minimum value (only applies to widget: <code class="docutils literal notranslate"><span class="pre">number_field</span></code>)</p>
<dl>
<dt>Default</dt><dd><p>No maximum value</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><p>Set maximum value of 15</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">15</span><span class="w"></span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">step (Integer, null)</code></dt>
<dd><p>works with <code class="docutils literal notranslate"><span class="pre">min</span></code> and <code class="docutils literal notranslate"><span class="pre">max</span></code> options to limit the increments at which a
value can be set, it can be the string <code class="docutils literal notranslate"><span class="pre">&quot;any&quot;</span></code> or positive floating
point number (only applies to widget: <code class="docutils literal notranslate"><span class="pre">number_field</span></code>)</p>
<dl>
<dt>Default</dt><dd><p>No step size</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">step</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><p>Only accept integer values</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">step</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">options (Array&lt;Array&lt;String&gt;&gt;, null)</code></dt>
<dd><p>A list of options for a <code class="docutils literal notranslate"><span class="pre">select</span></code> widget.  In the simplest form
you can have a list of strings like <code class="docutils literal notranslate"><span class="pre">chevy</span></code> in example below.
They can also be in the form <code class="docutils literal notranslate"><span class="pre">[&lt;label&gt;,</span> <span class="pre">&lt;value&gt;]</span></code> where label is the
HTML label shown in the web page and value is the actual value
that will be sent to the server and used.</p>
<p>Lastly you can also set extra <code class="docutils literal notranslate"><span class="pre">data</span></code> HTML attributes like the
example <code class="docutils literal notranslate"><span class="pre">Toyota</span></code> below. These extra attributes can be used by javascript
or options for <a class="reference internal" href="dynamic-form-widgets.html#dynamic-bc-apps"><span class="std std-ref">dynamic options</span></a>.</p>
<blockquote>
<div><dl>
<dt>Default</dt><dd><p>No options are supplied</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">options</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span><span class="w"></span>
</pre></div>
</div>
</dd>
</dl>
<p>Example</p>
<blockquote>
<div><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;Volvo&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;volvo&quot;</span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;Ford&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;ford&quot;</span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;chevy&quot;</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"></span>
<span class="w">      </span><span class="s">&quot;Toyota&quot;</span><span class="p p-Indicator">,</span><span class="w"></span>
<span class="w">      </span><span class="s">&quot;toyota&quot;</span><span class="p p-Indicator">,</span><span class="w"></span>
<span class="w">      </span><span class="nv">data-some-extra-attribute</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&#39;set&#39;</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">]</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</div></blockquote>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">cacheable (Boolean, true)</code></dt>
<dd><p>whether the form item is cacheable or not</p>
<dl>
<dt>Default</dt><dd><p>cacheable</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">cacheable</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><p>The item is not cacheable</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">cacheable</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">display (Boolean, false)</code></dt>
<dd><p>whether the form item should be displayed in the session card after it was created.</p>
<dl>
<dt>Default</dt><dd><p>False. The form item will not be displayed.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">display</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><p>Display form item in the session card.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">display</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>The simplest example consists of only a cluster id</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># ${HOME}/ondemand/dev/my_app/form.yml</span><span class="w"></span>
<span class="nn">---</span><span class="w"></span>
<span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;owens&quot;</span><span class="w"></span>
</pre></div>
</div>
<p>where we expect the Interactive App session to be submitted with the following
cluster configuration file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">ood</span><span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">clusters</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">owens</span><span class="o">.</span><span class="n">yml</span>
</pre></div>
</div>
<p>After modifying the <code class="docutils literal notranslate"><span class="pre">form.yml</span></code> click <em>Launch My App</em> from the Dashboard
sandbox app list and you should be presented with <strong>ONLY</strong> a Launch button,
since we didn’t define <code class="docutils literal notranslate"><span class="pre">form:</span></code> or <code class="docutils literal notranslate"><span class="pre">attributes:</span></code>.</p>
<div class="section" id="user-defined-attributes">
<h3>User-defined Attributes<a class="headerlink" href="#user-defined-attributes" title="Permalink to this headline">¶</a></h3>
<p>The following configuration file</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># ${HOME}/ondemand/dev/my_app/form.yml</span><span class="w"></span>
<span class="nn">---</span><span class="w"></span>
<span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;owens&quot;</span><span class="w"></span>
<span class="nt">form</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_module_version</span><span class="w"></span>
</pre></div>
</div>
<p>defines a session context attribute called <code class="docutils literal notranslate"><span class="pre">my_module_version</span></code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do not use <code class="docutils literal notranslate"><span class="pre">partition</span></code> as attribute name within the form. The (Ruby)
object created by the form is of type enumerable and <code class="docutils literal notranslate"><span class="pre">partition</span></code> is
method of that particular class. This causes the value set in the form not
being correctly passed to the submit script.</p>
</div>
<p>After modifying the <code class="docutils literal notranslate"><span class="pre">form.yml</span></code> click <em>Launch My App</em> from the Dashboard
sandbox app list and you will see an empty text box with the label “My Module
Version”. The user can input any value here and launch the Interactive App
session. This value will be made available to the batch job script and
submission parameters that are discussed in a later section.</p>
</div>
<div class="section" id="hard-coded-attributes">
<h3>Hard-coded Attributes<a class="headerlink" href="#hard-coded-attributes" title="Permalink to this headline">¶</a></h3>
<p>The following configuration file</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># ${HOME}/ondemand/dev/my_app/form.yml</span><span class="w"></span>
<span class="nn">---</span><span class="w"></span>
<span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;owens&quot;</span><span class="w"></span>
<span class="nt">form</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_module_version</span><span class="w"></span>
<span class="nt">attributes</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">my_module_version</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2.2.0&quot;</span><span class="w"></span>
</pre></div>
</div>
<p>does two things:</p>
<ul class="simple">
<li><p>it defines a context attribute called <code class="docutils literal notranslate"><span class="pre">my_module_version</span></code> in the <code class="docutils literal notranslate"><span class="pre">form:</span></code>
configuration option</p></li>
<li><p>it then sets the value of <code class="docutils literal notranslate"><span class="pre">my_module_version</span></code> to <code class="docutils literal notranslate"><span class="pre">&quot;2.2.0&quot;</span></code> in the
<code class="docutils literal notranslate"><span class="pre">attributes:</span></code> configuration option to later be used when defining the batch
job script and/or submission parameters</p></li>
</ul>
<p>The user will now <strong>ONLY</strong> be presented with a Launch button in the HTML form
because the attribute <code class="docutils literal notranslate"><span class="pre">my_module_version</span></code> is hard-coded, so there is no need
for a input text box.</p>
</div>
<div class="section" id="customize-user-defined-attributes">
<h3>Customize User-defined Attributes<a class="headerlink" href="#customize-user-defined-attributes" title="Permalink to this headline">¶</a></h3>
<p>The following configuration file</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># ${HOME}/ondemand/dev/my_app/form.yml</span><span class="w"></span>
<span class="nn">---</span><span class="w"></span>
<span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;owens&quot;</span><span class="w"></span>
<span class="nt">form</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_module_version</span><span class="w"></span>
<span class="nt">attributes</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">my_module_version</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">widget</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;number_field&quot;</span><span class="w"></span>
<span class="w">    </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Module</span><span class="nv"> </span><span class="s">version</span><span class="nv"> </span><span class="s">#&quot;</span><span class="w"></span>
<span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">    </span><span class="nt">help</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Please</span><span class="nv"> </span><span class="s">input</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">version</span><span class="nv"> </span><span class="s">number</span><span class="nv"> </span><span class="s">between</span><span class="nv"> </span><span class="s">1-10&quot;</span><span class="w"></span>
<span class="w">    </span><span class="nt">min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">    </span><span class="nt">max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">11</span><span class="w"></span>
<span class="w">    </span><span class="nt">step</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
</pre></div>
</div>
<p>does two things:</p>
<ul class="simple">
<li><p>it defines a context attribute called <code class="docutils literal notranslate"><span class="pre">my_module_version</span></code> in the <code class="docutils literal notranslate"><span class="pre">form:</span></code>
configuration option</p></li>
<li><p>it then describes the HTML form element to use for the <code class="docutils literal notranslate"><span class="pre">my_module_version</span></code>
attribute</p></li>
</ul>
</div>
<div class="section" id="caching-form-items">
<span id="id1"></span><h3>Caching form items<a class="headerlink" href="#caching-form-items" title="Permalink to this headline">¶</a></h3>
<p>Since 1.8 caching form items is configurable. By default all form items are
cacheable. As seen above you can enable or disable caching for the entire app
when using the top level <code class="docutils literal notranslate"><span class="pre">cacheable</span></code> configuration. You can also configure
on a per item basis through attributes.</p>
<p>Lastly you can also enable or disable this feature for the entire site, using
the configuration <code class="docutils literal notranslate"><span class="pre">OOD_BATCH_CONNECT_CACHE_ATTR_VALUES=false</span></code> in the
dashboard’s environment file <code class="docutils literal notranslate"><span class="pre">/etc/ood/config/apps/dashboard/env</span></code>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Since you can configure caching at different levels the rule of thumb is the
closer the configuration is to the form item, the higher the precedence.</p>
<p>Setting the configuration on the attribute overrides everything and setting it
on a per app basis overrides the global setting.</p>
</div>
<p>Let’s see an example.  Here, we’ve disabled caching for the app and did not
set OOD_BATCH_CONNECT_CACHE_ATTR_VALUES, so the site-wide configuration is set
to true by default.  So, <code class="docutils literal notranslate"><span class="pre">bc_num_slots</span></code> and <code class="docutils literal notranslate"><span class="pre">python_version</span></code> are not cacheable,
meaning the user will have to fill those form entries out every time they submit
the job. But since <code class="docutils literal notranslate"><span class="pre">bc_queue</span></code>’s attribute is set to true, it is cacheable.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># ${HOME}/ondemand/dev/my_app/form.yml</span><span class="w"></span>
<span class="c1"># OOD_BATCH_CONNECT_CACHE_ATTR_VALUES is not set, so defaults to true</span><span class="w"></span>
<span class="nn">---</span><span class="w"></span>
<span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;owens&quot;</span><span class="w"></span>
<span class="nt">cacheable</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>
<span class="nt">form</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bc_num_slots</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">python_version</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bc_queue</span><span class="w"></span>
<span class="nt">attributes</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">bc_queue</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">cacheable</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="displaying-form-items-in-the-session-card">
<span id="display-form-choices"></span><h3>Displaying form items in the session card<a class="headerlink" href="#displaying-form-items-in-the-session-card" title="Permalink to this headline">¶</a></h3>
<p>Now, submitted form values can be displayed in the session card for users to see.
By default, items will not be shown. Add the display property to the form attributes that you wish to show.
Form values will be added after the default session card items. The order is driven from the <code class="docutils literal notranslate"><span class="pre">form</span></code> array.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># ${HOME}/ondemand/dev/my_app/form.yml</span><span class="w"></span>
<span class="nn">---</span><span class="w"></span>
<span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;owens&quot;</span><span class="w"></span>
<span class="nt">form</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bc_num_hours</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bc_num_slots</span><span class="w"></span>
<span class="nt">attributes</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">bc_num_slots</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">display</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">  </span><span class="nt">bc_num_hours</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">display</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</pre></div>
</div>
<div class="figure align-center">
<img alt="../../../_images/form-display-attribute.png" src="../../../_images/form-display-attribute.png" />
</div>
</div>
</div>
<div class="section" id="configuring-which-cluster-to-submit-to">
<span id="configuring-cluster"></span><h2>Configuring which cluster to submit to<a class="headerlink" href="#configuring-which-cluster-to-submit-to" title="Permalink to this headline">¶</a></h2>
<p>In 1.8 there are now several ways to configure what cluster to submit to.</p>
<p>The easiest way is to use the the top level <code class="docutils literal notranslate"><span class="pre">cluster</span></code> configuration. If you’ve
configured just one item, then the form UI does not change for the user. If
you configure an array of two or more options then a select dropdown will
automatically be added to the top of the form.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># ${HOME}/ondemand/dev/my_app/form.yml</span><span class="w"></span>
<span class="c1"># which will generate a dropdown select automatically</span><span class="w"></span>
<span class="nn">---</span><span class="w"></span>
<span class="nt">cluster</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;cluster1&quot;</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;cluster2&quot;</span><span class="w"></span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>GLOBs are also supported. So in the example above one entry of <code class="docutils literal notranslate"><span class="pre">cluster*</span></code>
would have been equivalent to explicitly configuring both <code class="docutils literal notranslate"><span class="pre">cluster1</span></code> and
<code class="docutils literal notranslate"><span class="pre">cluster2</span></code>.</p>
<p>This means you could configure <code class="docutils literal notranslate"><span class="pre">cluster:</span> <span class="pre">&quot;*&quot;</span></code> to be able to submit to all
clusters.</p>
</div>
<p>If you would prefer to use some other widget, or you wish to change the text being
shown in the UI you can configure a cluster form item and specify it’s attributes.
This gives you some flexibility in the form UI instead of the default select
widget that shows all lowercase cluster names.</p>
<p>Here’s an example were the user will be shown a select dropdown menu item with
different text than the default.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># ${HOME}/ondemand/dev/different_select_cluster/form.yml</span><span class="w"></span>
<span class="nn">---</span><span class="w"></span>
<span class="nt">form</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cluster</span><span class="w"></span>
<span class="nt">attributes</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">cluster</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">widget</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;select&quot;</span><span class="w"></span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;The</span><span class="nv"> </span><span class="s">first</span><span class="nv"> </span><span class="s">cluster&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;cluster1&quot;</span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;The</span><span class="nv"> </span><span class="s">second</span><span class="nv"> </span><span class="s">cluster&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;cluster2&quot;</span><span class="p p-Indicator">]</span><span class="w"></span>
</pre></div>
</div>
<p>The last option is to <a class="reference internal" href="submit.html#configuring-cluster-in-submit-yml"><span class="std std-ref">configure the cluster in the submit file</span></a>.
When using this option, there’s no need to add any cluster configuration to the
form.yml.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="form-widgets.html" class="btn btn-neutral float-right" title="Form Widgets" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="manifest.html" class="btn btn-neutral float-left" title="Manifest yml files" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2023, Ohio Supercomputer Center

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Documentation Versions</span>
    v: 
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Versions</dt>
      
        <dd><a href="https://OSC.github.io/ood-documentation/latest/how-tos/app-development/interactive/form.html">latest</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-2.0/how-tos/app-development/interactive/form.html">2.0</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.8/how-tos/app-development/interactive/form.html">1.8</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.7/how-tos/app-development/interactive/form.html">1.7</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.6/how-tos/app-development/interactive/form.html">1.6</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.5/how-tos/app-development/interactive/form.html">1.5</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.4/how-tos/app-development/interactive/form.html">1.4</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.3/how-tos/app-development/interactive/form.html">1.3</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.2/how-tos/app-development/interactive/form.html">1.2</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.1/how-tos/app-development/interactive/form.html">1.1</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.0/how-tos/app-development/interactive/form.html">1.0</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/develop/how-tos/app-development/interactive/form.html">develop</a></dd>
      
    </dl>
    <dl>
      <dt>On GitHub</dt>
        <dd>
          <a href="http://openondemand.org/">Website</a>
        </dd>
        <dd>
          <a href="https://github.com/OSC/Open-OnDemand">Main Repo</a>
        </dd>
    </dl>
    <hr/>
    Theme provided by <a href="http://www.readthedocs.org">Read the Docs</a>.
  </div>
</div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>