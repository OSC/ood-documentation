

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Sub-Apps and Reconfiguring exsting apps &mdash; Open OnDemand 3.1.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Connection Parameters conn_params" href="conn-params.html" />
    <link rel="prev" title="Connection View" href="view.html" />
 
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-34776817-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-34776817-3');
</script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html">
          

          
            
            <img src="../../../_static/logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                3.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/add-cluster-config.html">Cluster Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setup Interactive Apps</a></li>
</ul>
<p class="caption"><span class="caption-text">How-Tos</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../customizations.html">Customizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../debug.html">Debugging and Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../enable-desktops.html">Enable Interactive Desktop</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../app-development.html">App Development</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../enabling-development-mode.html">Enabling App Development</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../interactive.html">Interactive Apps</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="manifest.html">Manifest yml files</a></li>
<li class="toctree-l3"><a class="reference internal" href="form.html">User Form (form.yml.erb)</a></li>
<li class="toctree-l3"><a class="reference internal" href="form-widgets.html">Form Widgets</a></li>
<li class="toctree-l3"><a class="reference internal" href="dynamic-form-widgets.html">Dynamic Form Widgets</a></li>
<li class="toctree-l3"><a class="reference internal" href="template.html">Render Template</a></li>
<li class="toctree-l3"><a class="reference internal" href="submit.html">Job Submission (submit.yml.erb)</a></li>
<li class="toctree-l3"><a class="reference internal" href="view.html">Connection View</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Sub-Apps and Reconfiguring exsting apps</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#quick-launch-apps">Quick Launch Apps</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="conn-params.html">Connection Parameters <code class="docutils literal notranslate"><span class="pre">conn_params</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../app-sharing.html">App Sharing</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../install-ihpc-apps.html">Install Other Interactive Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/tutorials-interactive-apps.html">Tutorials: Interactive Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/tutorials-passenger-apps.html">Tutorials: Passenger Apps</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference.html">Configuration Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../version-policy.html">Versioning Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../issues/overview.html">OnDemand’s Known Issues</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Open OnDemand</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../app-development.html">App Development</a> &raquo;</li>
        
          <li><a href="../interactive.html">Interactive Apps</a> &raquo;</li>
        
      <li>Sub-Apps and Reconfiguring exsting apps</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OSC/ood-documentation/blob/develop/source/how-tos/app-development/interactive/sub-apps.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="sub-apps-and-reconfiguring-exsting-apps">
<h1>Sub-Apps and Reconfiguring exsting apps<a class="headerlink" href="#sub-apps-and-reconfiguring-exsting-apps" title="Permalink to this headline">¶</a></h1>
<p>Sub-Apps are a term we use for providing variants of existing apps.
They act as a child to the existing parent application.  That is,
they inheret all the options and scripts from the existing application
and override some or all of options.</p>
<p>You may want to do this to provide variants of existing apps.</p>
<p>In fact, this is how the <code class="docutils literal notranslate"><span class="pre">bc_desktop</span></code> application works. Open OnDemand
ships the base app and sites provide sub apps with configurations specific
to their site.</p>
<p>The way it works is this: Let’s say you  have an existing application in <code class="docutils literal notranslate"><span class="pre">/var/www/ood/apps/sys/my_app</span></code>.</p>
<p>You have 2 options for supplying sub-app overrides.</p>
<blockquote>
<div><ul class="simple">
<li><p>Place new <code class="docutils literal notranslate"><span class="pre">form.yml</span></code> files in <code class="docutils literal notranslate"><span class="pre">/etc/ood/config/apps/my_app</span></code>.</p></li>
<li><p>OR provide new <code class="docutils literal notranslate"><span class="pre">form.yml</span></code> files in  <code class="docutils literal notranslate"><span class="pre">/var/www/ood/apps/sys/my_app/local</span></code>.</p></li>
</ul>
</div></blockquote>
<p>There are pros and cons to each scheme. With the former, you sperate the overriedes (the sub-apps)
and the actuall app. The subapps residing in <code class="docutils literal notranslate"><span class="pre">/etc/ood</span></code> and the actual apps residing in <code class="docutils literal notranslate"><span class="pre">/var/www</span></code>.
This would allow you to update one without having to update the other.</p>
<p>With latter scheme you keep the overrides with the main application itself. This has the benefit
of having everything in the same place, perhaps a git repository so that the apps (the main app and
the sub-app) get updated together.</p>
<div class="section" id="quick-launch-apps">
<span id="id1"></span><h2>Quick Launch Apps<a class="headerlink" href="#quick-launch-apps" title="Permalink to this headline">¶</a></h2>
<p>Quick launch apps are a special version of Sub-Apps that have all their
from options with hard coded values. Indeed, they’re not really options
at all as users will not be able to <em>choose</em> anything.</p>
<p>Let’s see an example for <code class="docutils literal notranslate"><span class="pre">my_app</span></code>.</p>
<p>Here we have the regularly defined form for this application and it
has choices for the account to use and the amount of cores to request.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># /var/www/ood/apps/sys/my_app/form.yml</span><span class="w"></span>
<span class="nn">---</span><span class="w"></span>

<span class="c1"># the cluster(s) this app can submit jobs to.</span><span class="w"></span>
<span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;owens&quot;</span><span class="w"></span>

<span class="c1"># &#39;form&#39; is a list of form choices for this app. Here we&#39;re allowing users to set</span><span class="w"></span>
<span class="c1"># the account and the number of cores they want to request for this job.</span><span class="w"></span>
<span class="nt">form</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bc_account</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cores</span><span class="w"></span>
</pre></div>
</div>
<p>This will allow users to choose their account and cores.</p>
<p>However, if we use preset values, users only need to click the icon to submit
the job. That is, they will not be given the form to fill out choices, they
will simply submit the job directly with the values that the administrator has
chosen for them.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># /var/www/ood/apps/sys/my_app/local/preset.yml</span><span class="w"></span>
<span class="c1"># or</span><span class="w"></span>
<span class="c1"># /etc/ood/config/apps/my_app/preset.yml</span><span class="w"></span>
<span class="nn">---</span><span class="w"></span>

<span class="c1"># the cluster(s) this app can submit jobs to.</span><span class="w"></span>
<span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;owens&quot;</span><span class="w"></span>

<span class="c1"># this form has values set in the attributes section for all form items.</span><span class="w"></span>
<span class="c1"># so users will submit a job with account abc123 and request 1 core without</span><span class="w"></span>
<span class="c1"># being presented with any choice.</span><span class="w"></span>
<span class="nt">form</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bc_account</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cores</span><span class="w"></span>
<span class="nt">attributes</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">bc_account</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;abc123&#39;</span><span class="w"></span>
<span class="w">  </span><span class="nt">cores</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
</pre></div>
</div>
<p>Now users will be presented with both variants. <code class="docutils literal notranslate"><span class="pre">My</span> <span class="pre">App</span></code> and
<code class="docutils literal notranslate"><span class="pre">My</span> <span class="pre">App:</span> <span class="pre">preset</span></code>.  The system used the name <code class="docutils literal notranslate"><span class="pre">preset</span></code> based
on the name of the file.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="conn-params.html" class="btn btn-neutral float-right" title="Connection Parameters conn_params" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="view.html" class="btn btn-neutral float-left" title="Connection View" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2023, Ohio Supercomputer Center

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Documentation Versions</span>
    v: 
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Versions</dt>
      
        <dd><a href="https://OSC.github.io/ood-documentation/latest/how-tos/app-development/interactive/sub-apps.html">latest</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-2.0/how-tos/app-development/interactive/sub-apps.html">2.0</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.8/how-tos/app-development/interactive/sub-apps.html">1.8</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.7/how-tos/app-development/interactive/sub-apps.html">1.7</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.6/how-tos/app-development/interactive/sub-apps.html">1.6</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.5/how-tos/app-development/interactive/sub-apps.html">1.5</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.4/how-tos/app-development/interactive/sub-apps.html">1.4</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.3/how-tos/app-development/interactive/sub-apps.html">1.3</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.2/how-tos/app-development/interactive/sub-apps.html">1.2</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.1/how-tos/app-development/interactive/sub-apps.html">1.1</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.0/how-tos/app-development/interactive/sub-apps.html">1.0</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/develop/how-tos/app-development/interactive/sub-apps.html">develop</a></dd>
      
    </dl>
    <dl>
      <dt>On GitHub</dt>
        <dd>
          <a href="http://openondemand.org/">Website</a>
        </dd>
        <dd>
          <a href="https://github.com/OSC/Open-OnDemand">Main Repo</a>
        </dd>
    </dl>
    <hr/>
    Theme provided by <a href="http://www.readthedocs.org">Read the Docs</a>.
  </div>
</div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>