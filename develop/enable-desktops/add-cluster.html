

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2. Add a Cluster &mdash; Open OnDemand 2.1.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3. Modify Form Attributes" href="modify-form-attributes.html" />
    <link rel="prev" title="1. Software Requirements" href="software-requirements.html" />
 
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-34776817-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-34776817-3');
</script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authentication.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/add-cluster-config.html">Cluster Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-tos/app-development/interactive/setup.html">Setup Interactive Apps</a></li>
</ul>
<p class="caption"><span class="caption-text">How-Tos</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../customizations.html">Customizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-tos/debug.html">Debugging and Monitoring</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../enable-desktops.html">Enable Interactive Desktop</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="software-requirements.html">1. Software Requirements</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">2. Add a Cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="modify-form-attributes.html">3. Modify Form Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom-job-submission.html">4. Custom Job Submission</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../how-tos/app-development.html">App Development</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install-ihpc-apps.html">Install Other Interactive Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorials-interactive-apps.html">Tutorials: Interactive Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorials-passenger-apps.html">Tutorials: Passenger Apps</a></li>
</ul>
<p class="caption"><span class="caption-text">More</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Configuration Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../issues/overview.html">OnDemand’s Known Issues</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Open OnDemand</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../enable-desktops.html">Enable Interactive Desktop</a> &raquo;</li>
        
      <li><span class="section-number">2. </span>Add a Cluster</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OSC/ood-documentation/blob/develop/source/enable-desktops/add-cluster.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="add-a-cluster">
<span id="enable-desktops-add-cluster"></span><h1><span class="section-number">2. </span>Add a Cluster<a class="headerlink" href="#add-a-cluster" title="Permalink to this headline">¶</a></h1>
<p>We now need to add this cluster as a Desktop option in the Interactive Apps
list. All customization is done underneath the root directory
<code class="file docutils literal notranslate"><span class="pre">/etc/ood/config/apps/bc_desktop</span></code> which requires escalated privileges to
modify.</p>
<ol class="arabic">
<li><p>Start by creating the working directory:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>mkdir -p /etc/ood/config/apps/bc_desktop
</pre></div>
</div>
</li>
<li><p>For <em>each</em> cluster that we want to launch a Desktop session on we will need
a corresponding <a class="reference internal" href="../how-tos/app-development/interactive/form.html#app-development-interactive-form"><span class="std std-ref">User Form (form.yml.erb)</span></a> configuration file
in YAML format located in this directory.</p>
<p>Assuming we want to launch a desktop on OSC’s Oakley cluster we would have:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># /etc/ood/config/apps/bc_desktop/oakley.yml</span><span class="w"></span>
<span class="nn">---</span><span class="w"></span>
<span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Oakley</span><span class="nv"> </span><span class="s">Desktop&quot;</span><span class="w"></span>
<span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;oakley&quot;</span><span class="w"></span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The <code class="docutils literal notranslate"><span class="pre">cluster</span></code> attribute above <strong>MUST</strong> match a valid cluster
configuration file located underneath
<code class="file docutils literal notranslate"><span class="pre">/etc/ood/config/clusters.d/</span></code>.</p>
</div>
</li>
<li><p>Navigate to your OnDemand site, in particular the Dashboard App, and you
should see in the top dropdown menu “Interactive Apps” ⇒ “Oakley Desktop”
(or whatever you set as the <code class="docutils literal notranslate"><span class="pre">title</span></code>).</p>
<p>After choosing “Oakley Desktop” from the menu, you should be presented with
a form to “Launch” a Desktop session to the given cluster.</p>
<p>Most likely if you click “Launch” it will fail miserably. That is because we
will need to configure the submission parameters for cluster’s resource
manager.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If by some chance when you click “Launch” and it actually successfully
submits a job to your cluster, it is <strong>highly</strong> recommended that you
click the link under “Session ID:”. This will open the file browser
underneath the working directory of the batch job. This will allow you to
read all the logs generated to help debug any issues that may crop up.</p>
</div>
</li>
</ol>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="modify-form-attributes.html" class="btn btn-neutral float-right" title="3. Modify Form Attributes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="software-requirements.html" class="btn btn-neutral float-left" title="1. Software Requirements" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2023, Ohio Supercomputer Center

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Documentation Versions</span>
    v: 
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Versions</dt>
      
        <dd><a href="https://OSC.github.io/ood-documentation/latest/enable-desktops/add-cluster.html">latest</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-2.0/enable-desktops/add-cluster.html">2.0</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.8/enable-desktops/add-cluster.html">1.8</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.7/enable-desktops/add-cluster.html">1.7</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.6/enable-desktops/add-cluster.html">1.6</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.5/enable-desktops/add-cluster.html">1.5</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.4/enable-desktops/add-cluster.html">1.4</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.3/enable-desktops/add-cluster.html">1.3</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.2/enable-desktops/add-cluster.html">1.2</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.1/enable-desktops/add-cluster.html">1.1</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.0/enable-desktops/add-cluster.html">1.0</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/develop/enable-desktops/add-cluster.html">develop</a></dd>
      
    </dl>
    <dl>
      <dt>On GitHub</dt>
        <dd>
          <a href="http://openondemand.org/">Website</a>
        </dd>
        <dd>
          <a href="https://github.com/OSC/Open-OnDemand">Main Repo</a>
        </dd>
    </dl>
    <hr/>
    Theme provided by <a href="http://www.readthedocs.org">Read the Docs</a>.
  </div>
</div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>